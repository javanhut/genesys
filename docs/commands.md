# Genesys Commands Reference

Complete reference for all Genesys CLI commands.

## Overview

Genesys provides several main commands for cloud resource management:

- `interact` - Interactive resource creation wizard
- `config` - Manage cloud provider credentials  
- `execute` - Deploy or delete resources from configuration files
- `list` / `discover` - List existing cloud resources
- `version` - Show version information

## genesys interact

Start an interactive wizard to create cloud resources.

```bash
genesys interact
```

### Workflow

1. **Provider Selection**: Choose from AWS, GCP, Azure, or Tencent Cloud
2. **Resource Type Selection**: Choose resource type (S3 Storage Bucket, Compute Instance, Database, Function, Network)
3. **Resource Configuration**: Interactive prompts specific to the selected resource
4. **Configuration Save**: Saves configuration as YAML file for later execution

### Example

```bash
genesys interact
# Select provider: aws
# Select resource: S3 Storage Bucket  
# Configure bucket settings...
# Saves: s3-mybucket-1234567890.yaml
```

## genesys config

Manage cloud provider credentials and configuration.

### genesys config setup

Interactive setup wizard for cloud provider credentials.

```bash
genesys config setup
```

Guides you through:
- Selecting a cloud provider (AWS, GCP, Azure, Tencent)
- Choosing between local credentials or manual input
- Configuring regions and provider-specific settings
- Validating credentials
- Setting as default provider (optional)

### genesys config list

List all configured cloud providers.

```bash
genesys config list
```

Shows:
- All configured providers
- Default provider (marked with *)
- Region for each provider  
- Authentication method (local vs configured)

### genesys config show

Show configuration details for a specific provider.

```bash
genesys config show <provider>
```

Examples:
```bash
genesys config show aws
genesys config show gcp
```

### genesys config default

Set a provider as the default.

```bash
genesys config default <provider>
```

Examples:
```bash
genesys config default aws
genesys config default gcp
```

## genesys execute

Deploy or delete resources from configuration files.

### Basic Usage

```bash
genesys execute <config-file.yaml>           # Deploy resources
genesys execute <config-file.yaml> --dry-run # Preview changes
genesys execute deletion <config-file.yaml>  # Delete resources
```

### Flags

- `--dry-run` - Show what would be done without making changes
- `--apply` - Apply the changes (for legacy intent-based execution)
- `-c, --config string` - Configuration file (YAML or TOML)
- `--provider string` - Cloud provider (default "aws")
- `--region string` - Cloud region
- `-o, --output string` - Output format (human|json) (default "human")

### Examples

```bash
# Preview S3 bucket creation
genesys execute s3-mybucket.yaml --dry-run

# Create S3 bucket
genesys execute s3-mybucket.yaml

# Delete S3 bucket (with dry-run)
genesys execute deletion s3-mybucket.yaml --dry-run

# Delete S3 bucket
genesys execute deletion s3-mybucket.yaml
```

## genesys list / genesys discover

Discover existing resources in your cloud account.

```bash
genesys list                           # List all resources (alias for discover)
genesys discover                       # Discover all resources
genesys discover --service storage     # Discover only storage resources
genesys discover --provider aws        # Use specific provider
genesys discover --region us-west-2    # Use specific region
genesys discover --output json         # JSON output format
```

### Flags

- `--provider string` - Cloud provider (aws|gcp|azure) (default "aws")
- `--region string` - Cloud region
- `-o, --output string` - Output format (human|json) (default "human")
- `--service string` - Specific service to discover (storage|compute|network|database|serverless)

### Examples

```bash
# List all AWS resources
genesys list

# List only S3 buckets
genesys list --service storage

# List resources in specific region
genesys list --region us-east-1

# Get JSON output
genesys list --output json
```

## genesys version

Show version information.

```bash
genesys version
```

## Global Flags

All commands support these global flags:

- `-h, --help` - Help for the command
- `-v, --version` - Version for genesys (root command only)

## Configuration Files

Genesys uses YAML configuration files for resource management. These files are generated by the interactive workflow and used by the execute command.

### Example S3 Configuration

```yaml
provider: aws
region: us-east-1
resources:
  storage:
    - name: my-test-bucket
      type: bucket
      versioning: true
      encryption: true
      public_access: false
      tags:
        Environment: development
        ManagedBy: Genesys
        Purpose: demo
policies:
  require_encryption: true
  no_public_buckets: true
  require_tags:
    - Environment
    - ManagedBy
    - Purpose
```

## Error Handling

Genesys provides clear error messages for common scenarios:

- **Provider not configured**: Prompts to run `genesys config setup`
- **Invalid configuration files**: Shows specific YAML parsing errors
- **Missing files**: Clear file not found messages
- **API errors**: Formatted cloud provider error responses

## Tips

1. **Always use dry-run first**: Preview changes with `--dry-run` before deployment
2. **Configure providers once**: Set up credentials with `genesys config setup`
3. **Use meaningful names**: Choose descriptive names for resources
4. **Keep configurations**: Save YAML files for resource lifecycle management
5. **Check existing resources**: Use `genesys list` to avoid naming conflicts